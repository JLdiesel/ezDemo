# 怎么做（技术方案）？

### 1：合成监控

在一个模拟场景里，去提交一个需要做性能审计的页面，通过一系列的工具、规则去运行你的页面，提取一些性能指标，得出一个审计报告（Lighthouse）。

优点：1、有现成的解决方案（Lighthouse），实现简单 2、采集到的数据很丰富 3、不影响真实用户的访问性能 4、可以可视化

缺点：1、合成配置复杂，无法还原真实场景 2、无法处理登录页面 3、单词运行数据不稳定 4、数据量较小

### 2：真实用户监控

用户在我们的页面上访问，访问之后就会产生各种各样的性能指标，我们在用户访问结束的时候，把这些性能指标上传到我们的日志服务器上，进行数据的提取清洗加工，最后在我们的监控平台上进行展示的一个过程。  
优点：1、完全还原真实场景 2、不存在登录场景 3、数据量大 4、数据关联性更强，可以获取更多信息  
缺点：1、影响真实用户性能体验与流量消耗 2、硬件指标无法采集 3、无法采集完整的资源加载瀑布图 4、无法可视化页面加载过程

比较：  
|方法名|合成监控|真实用户监控|
|实现难度及成本|较低|较高|
|采集数据丰富度|丰富|基础|
|数据样本量|较小|大（看你业务大不大)|
|适合场景|支持团队自有业务，对性能做定性分析，或配合 CI 做小数据量的监控分析|作为中台产品支持前台业务，结合业务数据进行深度挖掘|

#### 真实用户性能数据采集方案

1、如何采集（使用标准 API，保证数据的正确性）
2、采集数据分析：（指标）
3、数据上传数据库以及数据分析与使用
